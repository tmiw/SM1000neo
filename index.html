<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <!-- pandoc template based on mdBook theme -->
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="author" content="Mooneer Salem" />
    <meta name="dcterms.date" content="2024-03-17" />
    <meta name="keywords" content="ezDV, FreeDV, digital voice, amateur radio, ham radio" />
    <title>User’s Guide – ezDV</title>

    <link rel="shortcut icon" href="template/favicon.ico">
    <link rel="stylesheet" href="template/screen.css" />
    <link rel="stylesheet" href="template/print.css" media="print">
    <style>
        code{white-space: pre-wrap;}
        span.smallcaps{font-variant: small-caps;}
        span.underline{text-decoration: underline;}
        div.column{display: inline-block; vertical-align: top; width: 50%;}
    </style>

    <!-- Fonts -->
    <link rel="stylesheet" href="template/fontawesome/css/all.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">
</head>
<body class="light">


    <!-- Provide site root to javascript -->
    <script type="text/javascript">
        var path_to_root = "";
        var default_theme = "light";
    </script>

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    <script type="text/javascript">
        try {
            var theme = localStorage.getItem('mdbook-theme');
            var sidebar = localStorage.getItem('mdbook-sidebar');

            if (theme.startsWith('"') && theme.endsWith('"')) {
                localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
            }

            if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
            }
        } catch (e) { }
    </script>

    <!-- Set the theme before any content is loaded, prevents flash -->
    <script type="text/javascript">
        var theme;
        try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
        if (theme === null || theme === undefined) { theme = default_theme; }
        document.body.className = theme;
        document.querySelector('html').className = theme + ' js';
    </script>

    <!-- Hide / unhide sidebar before it is displayed -->
    <script type="text/javascript">
        var html = document.querySelector('html');
        var sidebar = 'hidden';
        if (document.body.clientWidth >= 1080) {
            try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
            sidebar = sidebar || 'visible';
        }
        html.classList.remove('sidebar-visible');
        html.classList.add("sidebar-" + sidebar);
    </script>

    <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div class="toc">
            <ul>
            <li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
            <li><a href="#setting-up-ezdv"><span class="toc-section-number">2</span> Setting up ezDV</a>
            <ul>
            <li><a href="#initial-assembly"><span class="toc-section-number">2.1</span> Initial assembly</a></li>
            <li><a href="#radio-wiring"><span class="toc-section-number">2.2</span> Radio wiring</a>
            <ul>
            <li><a href="#radios-without-wi-fi-support"><span class="toc-section-number">2.2.1</span> Radios without Wi-Fi support</a></li>
            <li><a href="#radios-with-wi-fi-support"><span class="toc-section-number">2.2.2</span> Radios with Wi-Fi support</a>
            <ul>
            <li><a href="#flex-6000-series-radios"><span class="toc-section-number">2.2.2.1</span> Flex 6000 series radios</a></li>
            <li><a href="#icom-ic-705"><span class="toc-section-number">2.2.2.2</span> Icom IC-705</a></li>
            </ul></li>
            </ul></li>
            <li><a href="#initial-configuration"><span class="toc-section-number">2.3</span> Initial configuration</a>
            <ul>
            <li><a href="#transmit-audio-levels"><span class="toc-section-number">2.3.1</span> Transmit audio levels</a>
            <ul>
            <li><a href="#flex-6000-series"><span class="toc-section-number">2.3.1.1</span> Flex 6000 series</a></li>
            <li><a href="#other-radios"><span class="toc-section-number">2.3.1.2</span> Other radios</a></li>
            </ul></li>
            <li><a href="#wi-fi-configuration"><span class="toc-section-number">2.3.2</span> Wi-Fi configuration</a></li>
            <li><a href="#radio-connection"><span class="toc-section-number">2.3.3</span> Radio connection</a>
            <ul>
            <li><a href="#flex-6000-series-1"><span class="toc-section-number">2.3.3.1</span> Flex 6000 series</a></li>
            <li><a href="#icom-ic-705-1"><span class="toc-section-number">2.3.3.2</span> Icom IC-705</a></li>
            </ul></li>
            <li><a href="#reporting-configuration"><span class="toc-section-number">2.3.4</span> Reporting configuration</a></li>
            <li><a href="#final-setup"><span class="toc-section-number">2.3.5</span> Final setup</a></li>
            </ul></li>
            </ul></li>
            <li><a href="#basic-usage"><span class="toc-section-number">3</span> Basic usage</a>
            <ul>
            <li><a href="#external-controls"><span class="toc-section-number">3.1</span> External controls</a></li>
            <li><a href="#powering-ezdv-on-and-off"><span class="toc-section-number">3.2</span> Powering ezDV on and off</a></li>
            <li><a href="#freedv-operation"><span class="toc-section-number">3.3</span> FreeDV operation</a></li>
            <li><a href="#radio-setup-and-usage"><span class="toc-section-number">3.4</span> Radio setup and usage</a>
            <ul>
            <li><a href="#flex-6000-series-2"><span class="toc-section-number">3.4.1</span> Flex 6000 series</a></li>
            <li><a href="#others"><span class="toc-section-number">3.4.2</span> Others</a></li>
            </ul></li>
            <li><a href="#volume-controls"><span class="toc-section-number">3.5</span> Volume controls</a></li>
            <li><a href="#voice-keyer"><span class="toc-section-number">3.6</span> Voice keyer</a></li>
            <li><a href="#summary-of-controls"><span class="toc-section-number">3.7</span> Summary of controls</a></li>
            </ul></li>
            <li><a href="#using-the-web-interface"><span class="toc-section-number">4</span> Using the web interface</a>
            <ul>
            <li><a href="#accessing-the-web-interface"><span class="toc-section-number">4.1</span> Accessing the web interface</a></li>
            <li><a href="#changing-freedv-mode"><span class="toc-section-number">4.2</span> Changing FreeDV mode</a></li>
            <li><a href="#changing-led-brightness"><span class="toc-section-number">4.3</span> Changing LED brightness</a></li>
            <li><a href="#using-and-configuring-the-voice-keyer"><span class="toc-section-number">4.4</span> Using and configuring the voice keyer</a></li>
            <li><a href="#reporting-to-freedv-reporter"><span class="toc-section-number">4.5</span> Reporting to FreeDV Reporter</a></li>
            <li><a href="#configuring-wi-fi"><span class="toc-section-number">4.6</span> Configuring Wi-Fi</a></li>
            <li><a href="#configuring-radio-connection-and-headset"><span class="toc-section-number">4.7</span> Configuring radio connection and headset</a></li>
            <li><a href="#updating-firmware"><span class="toc-section-number">4.8</span> Updating firmware</a></li>
            <li><a href="#rebooting-ezdv"><span class="toc-section-number">4.9</span> Rebooting ezDV</a></li>
            </ul></li>
            <li><a href="#troubleshooting"><span class="toc-section-number">5</span> Troubleshooting</a>
            <ul>
            <li><a href="#using-hardware-test-mode"><span class="toc-section-number">5.1</span> Using Hardware Test Mode</a></li>
            <li><a href="#resetting-ezdv"><span class="toc-section-number">5.2</span> Resetting ezDV</a>
            <ul>
            <li><a href="#using-esp-idf-to-flash-firmware"><span class="toc-section-number">5.2.1</span> Using ESP-IDF to flash firmware</a></li>
            <li><a href="#using-esp-flash-tool"><span class="toc-section-number">5.2.2</span> Using ESP Flash Tool</a></li>
            <li><a href="#using-esptool"><span class="toc-section-number">5.2.3</span> Using esptool</a></li>
            </ul></li>
            <li><a href="#common-problems"><span class="toc-section-number">5.3</span> Common problems</a></li>
            <li><a href="#getting-assistance"><span class="toc-section-number">5.4</span> Getting assistance</a></li>
            </ul></li>
            <li><a href="#appendix-configuring-wi-fi-on-the-icom-ic-705"><span class="toc-section-number">6</span> Appendix: Configuring Wi-Fi on the Icom IC-705</a>
            <ul>
            <li><a href="#using-the-ic-705s-built-in-access-point"><span class="toc-section-number">6.1</span> Using the IC-705’s built-in access point</a></li>
            <li><a href="#connecting-the-ic-705-to-an-existing-network"><span class="toc-section-number">6.2</span> Connecting the IC-705 to an existing network</a></li>
            <li><a href="#configuring-the-radio-user"><span class="toc-section-number">6.3</span> Configuring the Radio User</a></li>
            <li><a href="#configuring-audio"><span class="toc-section-number">6.4</span> Configuring Audio</a></li>
            </ul></li>
            <li><a href="#appendix-example-wiring-configurations"><span class="toc-section-number">7</span> Appendix: Example wiring configurations</a>
            <ul>
            <li><a href="#elecraft-kx3"><span class="toc-section-number">7.1</span> Elecraft KX3</a></li>
            </ul></li>
            </ul>
        </div>
    </nav>

    <div id="page-wrapper" class="page-wrapper">

        <div class="page">

            <div id="menu-bar" class="menu-bar">
                <div id="menu-bar-sticky-container">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ezDV</h1>

                    <div class="right-buttons">
                        <a onclick="window.print()" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fas fa-print"></i>
                        </a>
                        <a href="manual.pdf" title="View PDF file" aria-label="View PDF file">
                            <i class="fas fa-file-pdf"></i>
                        </a>
                        </div>
                </div>
            </div>


            <div id="content" class="content">
                <main>
<h1 data-number="1" id="introduction"><span class="header-section-number">1</span> Introduction</h1>
<p><a href="https://github.com/tmiw/ezDV">ezDV</a> is a handheld hardware device that allows easy use of <a href="https://freedv.org">FreeDV</a>, whether on the go or at home. Powered by an ESP32-S3 microcontroller, its built-in Wi-Fi support allows completely wireless setup (with supported radios) along with enabling more modern functionality such as FreeDV Reporter reporting and wireless firmware updates.</p>
<p>For those radios without network capability, interfacing them with ezDV is straightforward through the use of the industry standard 3.5mm TRRS audio jack. This jack is configured similarly to what is used with wired headsets for mobile phones. Analog audio is also passed in and out from/to your wired headset using a second 3.5mm audio jack.</p>
<p>This document describes the configuration and recommended usage of the ezDV device for maximum enjoyment and minimal frustration. Hope to hear you on the air!</p>
<h1 data-number="2" id="setting-up-ezdv"><span class="header-section-number">2</span> Setting up ezDV</h1>
<p>There are several steps required to get ezDV up and running with your radio.</p>
<h2 data-number="2.1" id="initial-assembly"><span class="header-section-number">2.1</span> Initial assembly</h2>
<p>If ezDV did not already come with a battery, you will need to obtain a 3.7V lithium polymer (LiPo) battery. One recommended battery can be purchased <a href="https://www.amazon.com/gp/product/B08214DJLJ/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;psc=1">from Amazon</a>.</p>
<p><em>WARNING: Do not puncture or otherwise damage lithium batteries as injury and/or property damage could result! Neither the project nor its creator take responsibility for any damage or injury due to misuse of batteries. A battery with a protection module (such as the one linked above) is highly recommended.</em></p>
<p>The battery should be plugged into the BT1 connector on the bottom of the ezDV circuit board, which is the circled connector below:</p>
<figure>
<img src="images/2-setup-battery-location.jpg" alt="" /><figcaption>The back of the ezDV circuit board with BT1 circled</figcaption>
</figure>
<p>Once a battery is attached, you should flip the switch to the right of the BT1 connector upwards (towards the back of the ezDV board) to connect the battery to the rest of the board. This switch is designed to allow for long-term storage or shipping of ezDV without discharging the battery. Note that ezDV may power on immediately after flipping this switch; you can power it down by pushing and holding the Mode button (second button from the top when looking downward) until red lights turn on on the right-hand side.</p>
<p><em>Note: it is not recommended to use this switch for normal operation of ezDV. Some features require an orderly shutdown of ezDV (which is accomplished by using the Mode button) and may not function properly if power is suddenly lost.</em></p>
<p>Next, plug ezDV into a USB-C charger (similar to what would be done to charge a cell phone or portable power bank). A red LED may light on the bottom of ezDV indicating that the battery is charging as well as some or all of the LEDs on the right hand side (indicating its current state of charge in 25% increments). When ezDV is done charging, a green LED will turn on and the red LED will turn off. This may take several hours or more depending on the state of the battery.</p>
<p>Finally, plug in a wired headset on the TRRS jack located on the right side of the ezDV board (when looking from above). This headset should be wired for compatibility with Android phones, which is as follows:</p>
<ul>
<li>Tip: RX audio from ezDV</li>
<li>Ring 1: RX audio from ezDV</li>
<li>Ring 2: GND</li>
<li>Shield: TX microphone audio to ezDV</li>
</ul>
<p>Once attached, ezDV will appear as follows:</p>
<figure>
<img src="images/2-setup-headset-location.jpg" alt="" /><figcaption>ezDV with headset attached</figcaption>
</figure>
<h2 data-number="2.2" id="radio-wiring"><span class="header-section-number">2.2</span> Radio wiring</h2>
<h3 data-number="2.2.1" id="radios-without-wi-fi-support"><span class="header-section-number">2.2.1</span> Radios without Wi-Fi support</h3>
<p>Radios without Wi-Fi support will need an interface cable. One end of this cable should be a male 3.5mm four conductor (TRRS) with the following pinout:</p>
<ul>
<li>Tip: TX audio from ezDV to your radio</li>
<li>Ring 1: PTT to radio (this is connected to GND when you push the PTT button)</li>
<li>Ring 2: GND</li>
<li>Shield: RX audio from your radio to ezDV</li>
</ul>
<p>There is also silkscreen labeling on the back of the board corresponding to the location of the radio jack that indicates the pinout. This jack is on the left hand side of ezDV when looking downward at the front of the device.</p>
<p>More information on example wiring configurations for various radios can be found in the “Example Wiring Configurations” section.</p>
<h3 data-number="2.2.2" id="radios-with-wi-fi-support"><span class="header-section-number">2.2.2</span> Radios with Wi-Fi support</h3>
<p>If you have a radio that is capable of remote network access, you can configure ezDV to connect to the radio over Wi-Fi. Currently this is supported only for the <a href="https://www.flexradio.com/">FlexRadio</a> 6000 series radios and the Icom IC-705.</p>
<h4 data-number="2.2.2.1" id="flex-6000-series-radios"><span class="header-section-number">2.2.2.1</span> Flex 6000 series radios</h4>
<p>Ensure that you can access your radio using the SmartSDR software from a PC on the same network (i.e. <em>not</em> using SmartLink). Once this is confirmed, skip to <a href="#initial-configuration">Initial Configuration</a>.</p>
<h4 data-number="2.2.2.2" id="icom-ic-705"><span class="header-section-number">2.2.2.2</span> Icom IC-705</h4>
<p>Several settings will need to be adjusted in the IC-705 before it can be used with ezDV. See “Configuring Wi-Fi on the Icom IC-705” or your radio’s user manual for more information on configuring Wi-Fi.</p>
<h2 data-number="2.3" id="initial-configuration"><span class="header-section-number">2.3</span> Initial configuration</h2>
<p>To perform initial configuration of ezDV, push and hold both the Mode and Volume Down buttons at the same time until all four of the LEDs on the right hand side of ezDV turn on.</p>
<figure>
<img src="images/2-setup-power-on.jpg" alt="" /><figcaption>ezDV showing the buttons to push and hold (red circles) and the location of the LEDs (pink circle)</figcaption>
</figure>
<p>Once the LEDs turn off, go to your PC or cell phone’s Wi-Fi configuration and join a network named “ezDV xxxx”, where “xxxx” is the last few alphanumeric digits of its MAC address (a unique identifier for each network device). Once joined, open your Web browser and navigate to http://192.168.4.1/. You should see a page similar to the following:</p>
<figure>
<img src="images/2-setup-webpage-general.png" alt="" /><figcaption>Screenshot showing ezDV’s main Web page</figcaption>
</figure>
<h3 data-number="2.3.1" id="transmit-audio-levels"><span class="header-section-number">2.3.1</span> Transmit audio levels</h3>
<h4 data-number="2.3.1.1" id="flex-6000-series"><span class="header-section-number">2.3.1.1</span> Flex 6000 series</h4>
<p>ezDV uses a hardcoded transmit level when connected to the Flex 6000 series of radios, so adjusting the transmit level on ezDV has no effect.</p>
<h4 data-number="2.3.1.2" id="other-radios"><span class="header-section-number">2.3.1.2</span> Other radios</h4>
<p><em>Note: for the Icom IC-705, this can only be done after configuring Wi-Fi and the radio connection.</em></p>
<p>ezDV’s transmit audio levels will need to be adjusted to ensure that your radio does not indicate too much ALC, similar to other HF digital modes. You can adjust the transmit audio by pushing the Volume Up or Volume Down buttons while holding the PTT button as indicated below:</p>
<figure>
<img src="images/2-setup-tx-audio-levels.jpg" alt="" /><figcaption>ezDV showing the PTT button (red circle) and the Volume Up/Down buttons (pink circle)</figcaption>
</figure>
<p>For most radios, ezDV’s transmit level should be such that little to no ALC is indicated on the radio display. The specific ALC level required depends on the radio, so your radio’s user manual is the best source for determining this. Alternatively, you can increase the TX audio level until your power output stops increasing, then decrease it again until your power output begins to decrease.</p>
<p><em>Note: it’s recommended to have your radio attached to a dummy load while adjusting your transmit audio levels to prevent interference to other operators.</em></p>
<h3 data-number="2.3.2" id="wi-fi-configuration"><span class="header-section-number">2.3.2</span> Wi-Fi configuration</h3>
<p><em>Note: this is optional unless you are using a radio with Wi-Fi support or wish to use other Internet connected features (such as reporting to <a href="https://qso.freedv.org/">FreeDV Reporter</a>).</em></p>
<p>Click or tap on the “Wi-Fi” tab and check the “Enable Wi-Fi” checkbox. You’ll see something similar to the following:</p>
<figure>
<img src="images/2-setup-webpage-wifi.png" alt="" /><figcaption>ezDV showing the Wi-Fi tab</figcaption>
</figure>
<p>To connect ezDV to the network that your radio is on, select “Client” for “Wireless Mode”. Select your Wi-Fi network from the list that appears (which may take a few seconds while ezDV scans for your network) and enter its password (if required). If desired, you can also change ezDV’s name by modifying the “Hostname” field; this may allow you to access ezDV later by entering this name instead of trying to find its IP address. Click or tap Save to save your Wi-Fi settings.</p>
<h3 data-number="2.3.3" id="radio-connection"><span class="header-section-number">2.3.3</span> Radio connection</h3>
<p><em>Note: this is optional unless you are using a radio with Wi-Fi support.</em></p>
<p>Click on the “Radio” tab and check the “Use Wi-Fi Network for Radio RX/TX” checkbox. Select your radio model in the “Radio Type” drop-down list, which will bring up different fields depending on the radio being configured.</p>
<h4 data-number="2.3.3.1" id="flex-6000-series-1"><span class="header-section-number">2.3.3.1</span> Flex 6000 series</h4>
<p>Select the name of your radio from the “Radio” drop-down list as shown below. Your radio’s IP address should automatically be filled in the “IP Address” field:</p>
<figure>
<img src="images/2-setup-webpage-radio-flex.png" alt="" /><figcaption>ezDV showing a FlexRadio configuration</figcaption>
</figure>
<p>Click or tap Save to save the radio configuration.</p>
<h4 data-number="2.3.3.2" id="icom-ic-705-1"><span class="header-section-number">2.3.3.2</span> Icom IC-705</h4>
<p>Enter your radio’s IP address, username and password that you saved when you configured Wi-Fi on the IC-705:</p>
<figure>
<img src="images/2-setup-webpage-radio-icom.png" alt="" /><figcaption>ezDV showing a Icom IC-705 configuration</figcaption>
</figure>
<p>Click or tap Save to save the radio configuration.</p>
<h3 data-number="2.3.4" id="reporting-configuration"><span class="header-section-number">2.3.4</span> Reporting configuration</h3>
<p>It is highly recommended to configure your callsign and grid square. This has several benefits:</p>
<ol type="1">
<li>If ezDV is lost or stolen, someone can access its Web page and use callsign databases like <a href="https://www.qrz.com">QRZ</a> to find a way to get it back to you.</li>
<li>Other users will be able to decode your callsign and report spots on <a href="https://qso.freedv.org">FreeDV Reporter</a>.</li>
<li>If ezDV has Internet access, it will also be able to decode callsigns from received signals and report them itself to FreeDV Reporter.</li>
</ol>
<p>To do this, click or tap on the “Reporting” tab and enter your callsign and grid square where prompted:</p>
<figure>
<img src="images/2-setup-webpage-reporting.png" alt="" /><figcaption>ezDV showing a sample reporting configuration</figcaption>
</figure>
<p>If desired, you can also enter a short message that will appear on FreeDV Reporter. This message is transmitted solely over the Internet, not over RF.</p>
<p>Once done, click or tap Save to save the reporting configuration.</p>
<h3 data-number="2.3.5" id="final-setup"><span class="header-section-number">2.3.5</span> Final setup</h3>
<p>After your radio, Wi-Fi and reporting configuration are complete, simply click or tap on the General tab and then click or tap on the Reboot button. ezDV will first show two red LEDs on the right hand side for a few seconds, then show all four LEDs for a few seconds, then turn them all off. If you’re using a wired connection to ezDV, it is now ready for use.</p>
<p>If you configured a Wi-Fi network and radio for ezDV to connect to, ezDV should then begin blinking a blue LED (indicating that it is connected to the Wi-Fi network) followed by showing a solid blue LED if it’s able to connect to the radio. On the IC-705, a WLAN indicator will appear if ezDV is connected to the radio as shown below:</p>
<figure>
<img src="images/2-setup-radio-ic705-connected.jpg" alt="" /><figcaption>Icom IC-705 properly connected to ezDV (WLAN indicator at the top of the screen)</figcaption>
</figure>
<p>For Flex 6000 series radios, opening the SmartSDR software will show a “FDVU” (for upper sideband) and “FDVL” (for lower sideband) if ezDV is properly connected to the radio:</p>
<figure>
<img src="images/2-setup-radio-flex-connected.png" alt="" /><figcaption>Flex 6300 properly connected to ezDV (existence of FDVU/FDVL modes)</figcaption>
</figure>
<h1 data-number="3" id="basic-usage"><span class="header-section-number">3</span> Basic usage</h1>
<h2 data-number="3.1" id="external-controls"><span class="header-section-number">3.1</span> External controls</h2>
<p>ezDV has four buttons on the left, in order from top to bottom:</p>
<ul>
<li>Push To Talk (PTT)</li>
<li>Mode</li>
<li>Volume Up</li>
<li>Volume Down</li>
</ul>
<p>as well as four status LEDs on the right hand side (again from top to bottom):</p>
<ul>
<li>PTT (red; on if transmitting)</li>
<li>Sync (green; on if ezDV can decode an incoming FreeDV signal)</li>
<li>Overload (red; on if the incoming RX/TX audio is clipping)</li>
<li>Network (blue; will blink if it has a network connection and will be solid if connected to the radio)</li>
</ul>
<p>These controls and LEDs are shown below:</p>
<figure>
<img src="images/3-button-and-led-locations.jpg" alt="" /><figcaption>ezDV button and LED locations</figcaption>
</figure>
<h2 data-number="3.2" id="powering-ezdv-on-and-off"><span class="header-section-number">3.2</span> Powering ezDV on and off</h2>
<p>To turn on ezDV, press and hold the Mode button for &gt;= 1 second. All four LEDs on the right hand side of the board should light briefly and then extinguish. You will also hear the last used mode in Morse Code on your wired headset or through SmartSDR if using a Flex radio. (On first start, this will be “700D”, which corresponds to FreeDV 700D mode.) Holding this button again for &gt;= 1 second will result in ezDV turning off (with “73” also being piped through the headset in Morse Code, corresponding to the well-known ham radio term for “goodbye”).</p>
<p>If Wi-Fi is enabled on ezDV, you will additionally hear the letter “N” emitted in Morse Code once the network interface comes up. If ezDV is configured to connect to an existing wireless network, you will hear the last octet of the IP address immediately afterward. For example, if your router assigns the IP address “192.168.1.100” to ezDV, you will hear “N100” in the headset.</p>
<p><em>Note: if your wireless network is configured with a “netmask” other than “255.255.255.0”, you may need to load your router’s configuration to obtain the rest of ezDV’s IP address. Otherwise, you can typically replace the last octet of your computer’s IP address with the number after the “N” when accessing ezDV with a web browser.</em></p>
<h2 data-number="3.3" id="freedv-operation"><span class="header-section-number">3.3</span> FreeDV operation</h2>
<p>Pushing the Mode button briefly while in receive will cycle through the following modes:</p>
<ul>
<li>FreeDV 700D (“700D” will beep in Morse code)</li>
<li>FreeDV 700E (“700E” will beep in Morse code)</li>
<li>FreeDV 1600 (“1600” will beep in Morse code)</li>
<li>Analog passthrough (“ANA” will beep in Morse code)</li>
</ul>
<p>The current FreeDV mode can also be adjusted using ezDV’s web interface if preferred. See “Using the web interface” for more information.</p>
<p>Pressing and holding the PTT button will place the radio into transmit mode and transmit a FreeDV signal out over the air (or your voice verbatim if you are in analog passthrough mode). If configured, you can also use the call button on your wired headset to place the radio into transmit; pushing and releasing the call button will toggle between transmit and receive.</p>
<h2 data-number="3.4" id="radio-setup-and-usage"><span class="header-section-number">3.4</span> Radio setup and usage</h2>
<h3 data-number="3.4.1" id="flex-6000-series-2"><span class="header-section-number">3.4.1</span> Flex 6000 series</h3>
<p>To use ezDV, simply start the SmartSDR software on your PC or iPad and select either FDVU mode (for upper sideband) or FDVL (for lower sideband). Decoded audio as well as Morse code beeps will be output to your speaker. Use the MOX button in SmartSDR (or the PTT button on a microphone attached to the radio) to transmit, similar to when operarting the other voice modes.</p>
<h3 data-number="3.4.2" id="others"><span class="header-section-number">3.4.2</span> Others</h3>
<p>If your radio has a “data” mode, it’s recommended to enable this while using ezDV (or any FreeDV application or device). This typically disables any processing the radio would normally do for SSB voice, preventing the signal from being garbled. Please see your radio’s user manual for information about how to enable this mode.</p>
<h2 data-number="3.5" id="volume-controls"><span class="header-section-number">3.5</span> Volume controls</h2>
<p>The Volume Up and Down buttons adjust the receive audio by default. If the PTT button is also held while pushing Volume Up or Volume Down, the transmit audio level is adjusted instead. For best results, transmit audio should be adjusted while in 700D/700E/1600 mode such that the ALC indicator on your radio is just barely showing (similar to how to configure data modes).</p>
<h2 data-number="3.6" id="voice-keyer"><span class="header-section-number">3.6</span> Voice keyer</h2>
<p>If configured, you can activate ezDV’s voice keyer functionality by holding down PTT and then pressing the Mode button. ezDV will then load the voice keyer file in its internal storage and play it back up to the number of times configured (with it pausing a configured number of seconds). By default, ezDV is configured to transmit the voice keyer file up to ten times, pausing for five seconds in between each transmission.</p>
<p>While the voice keyer is active, pressing any button on ezDV will stop the voice keyer and place it back into regular operation. If using a Flex 6000 series radio, you can also stop the voice keyer by pushing the MOX button in SmartSDR</p>
<p>Configuration of the voice keyer functionality (as well as stopping and starting of the voice keyer) can also be done via ezDV’s web interface. See “Using the web interface” for more information.</p>
<h2 data-number="3.7" id="summary-of-controls"><span class="header-section-number">3.7</span> Summary of controls</h2>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 10%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="header">
<th>Button</th>
<th>Action</th>
<th>Also pressed</th>
<th>ezDV behavior</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PTT</td>
<td>Hold</td>
<td>(none)</td>
<td>Places radio into transmit and outputs FreeDV signal/analog audio.</td>
</tr>
<tr class="even">
<td></td>
<td>Hold</td>
<td>Mode</td>
<td>If voice keyer configured, activates voice keyer. Otherwise, cycles betweens FreeDV modes.</td>
</tr>
<tr class="odd">
<td></td>
<td>Hold</td>
<td>Volume Up</td>
<td>Increases transmit audio level.</td>
</tr>
<tr class="even">
<td></td>
<td>Hold</td>
<td>Volume Down</td>
<td>Decreases transmit audio level.</td>
</tr>
<tr class="odd">
<td>Mode</td>
<td>Press</td>
<td>(none)</td>
<td>Cycles between available FreeDV modes and analog passthrough.</td>
</tr>
<tr class="even">
<td></td>
<td>Hold*</td>
<td>(none)</td>
<td>Powers up or shuts down ezDV.</td>
</tr>
<tr class="odd">
<td></td>
<td>Hold*</td>
<td>PTT</td>
<td>When off, powers up ezDV in Hardware Test Mode (see Troubleshooting).</td>
</tr>
<tr class="even">
<td></td>
<td>Hold*</td>
<td>Volume Down</td>
<td>When off, powers up ezDV with default Wi-Fi settings (see “Using the web interface”).</td>
</tr>
<tr class="odd">
<td>Volume Up</td>
<td>Press/Hold</td>
<td>(none)</td>
<td>Increases ezDV volume through headset.</td>
</tr>
<tr class="even">
<td>Volume Down</td>
<td>Press/Hold</td>
<td>(none)</td>
<td>Decreases ezDV volume through headset.</td>
</tr>
</tbody>
</table>
<p>* Must be held for at least one second.</p>
<h1 data-number="4" id="using-the-web-interface"><span class="header-section-number">4</span> Using the web interface</h1>
<p>ezDV provides a web interface to allow users to adjust its configuration and operate some of its features. When Wi-Fi is enabled on ezDV, this interface is accessible through a regular web browser (such as Google Chrome or Microsoft Edge).</p>
<h2 data-number="4.1" id="accessing-the-web-interface"><span class="header-section-number">4.1</span> Accessing the web interface</h2>
<p>By default, Wi-Fi on ezDV is disabled for security reasons. To enable it (or recover from a bad configuration), hold down the Mode and Volume Down buttons until ezDV turns on. This will cause ezDV to create an access point named “ezDV” followed by the last two octets of its MAC address. From there, you can connect your PC or mobile device to that network and open http://192.168.4.1/ in your web browser.</p>
<p>If ezDV is configured to connect to an existing Wi-Fi network, you can open a web browser on a PC or mobile device connected to the same network as ezDV and enter ezDV’s IP address into the browser’s location box. This IP address can typically be found in your router’s listing of connected devices; ezDV will also beep the letter “N” followed by the last octet of the IP address when it connects to the network (for example, “N100” for “192.168.1.100”).</p>
<p>Alternatively, depending on your router, you can also use the configured hostname in your browser instead. By default, ezDV’s hostname is “ezdv”, which means that you can enter http://ezdv/ instead of its IP address.</p>
<p>Regardless of how you access ezDV’s web interface, you should see a page similar to the below:</p>
<figure>
<img src="images/2-setup-webpage-general.png" alt="" /><figcaption>Screenshot showing ezDV’s main Web page</figcaption>
</figure>
<p>From here, you can choose one of several tabs:</p>
<ul>
<li>General: Contains miscallenous ezDV configuration options.</li>
<li>Reporting: Configures and operates the <a href="https://qso.freedv.org/">FreeDV Reporter</a> reporting feature.</li>
<li>Voice Keyer: Configures ezDV’s voice keyer feature.</li>
<li>Wi-Fi: Configures how ezDV connects to Wi-Fi.</li>
<li>Radio: Configures how ezDV connects to your network-enabled radio.</li>
<li>Firmware Update: Allows the user to perform a firmware update on ezDV.</li>
</ul>
<h2 data-number="4.2" id="changing-freedv-mode"><span class="header-section-number">4.2</span> Changing FreeDV mode</h2>
<p>The web interface provides the ability to change the current FreeDV mode, similar to when pushing the Mode button on the top of ezDV. To change the current FreeDV mode, simply push one of the mode buttons in the General tab:</p>
<figure>
<img src="images/4-mode-buttons.png" alt="" /><figcaption>ezDV mode buttons on web interface</figcaption>
</figure>
<p>Once pushed, ezDV will behave identically as if the mode was switched using the Mode button, including beeping the current mode in Morse Code through the wired headset.</p>
<h2 data-number="4.3" id="changing-led-brightness"><span class="header-section-number">4.3</span> Changing LED brightness</h2>
<p>ezDV allows you to change the brightness of the LEDs on the front of the device. This can make ezDV more comfortable to use at night (for example). This can be done by going to the General tab and moving the LED Brightness slider:</p>
<figure>
<img src="images/4-led-brightness.png" alt="" /><figcaption>ezDV LED Brightness slider</figcaption>
</figure>
<p>Changes to the LED Brightness slider take effect immediately and are preserved, so it’s not necessary to readjust every time ezDV is powered off and then on again.</p>
<h2 data-number="4.4" id="using-and-configuring-the-voice-keyer"><span class="header-section-number">4.4</span> Using and configuring the voice keyer</h2>
<p>To activate and deactivate the voice keyer, you can push the Voice Keyer button in the General tab. When active, the Voice Keyer button will turn red as shown below:</p>
<figure>
<img src="images/4-voice-keyer-active.png" alt="" /><figcaption>Voice Keyer button when active</figcaption>
</figure>
<p>Pushing the button again will turn off the voice keyer:</p>
<figure>
<img src="images/4-voice-keyer-inactive.png" alt="" /><figcaption>Voice Keyer button when not active</figcaption>
</figure>
<p>If the voice keyer feature is disabled, the Voice Keyer button will be grayed out. In order to configure the voice keyer, you will need to go into the Voice Keyer tab:</p>
<figure>
<img src="images/4-voice-keyer-config.png" alt="" /><figcaption>Voice Keyer tab for configuration</figcaption>
</figure>
<p>The following can be set here to enable the voice keyer feature:</p>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Enable voice keyer</td>
<td>When checked, this enables use of the voice keyer. The Voice Keyer button in the General tab will be allowed to be pushed, as well as be able to be activated by pushing on the Mode button on the front of ezDV while holding down PTT.</td>
</tr>
<tr class="even">
<td>Voice keyer file</td>
<td>Allows uploading of a new voice keyer file. Optional if one has already been uploaded to ezDV.<br/> <em>Note: ezDV requires a WAV file encoded with a sample rate of 8000 Hz and containing only one audio channel. If a file is uploaded that does not meet these requirements, ezDV will reject the upload.</em></td>
</tr>
<tr class="odd">
<td>Number of times to transmit</td>
<td>The number of times that ezDV will transmit the voice keyer file before it disables the voice keyer. You can also disable the voice keyer early by pushing on the Voice Keyer button or pushing on any of the physical buttons on the front of ezDV.</td>
</tr>
<tr class="even">
<td>Number of seconds to wait after transmit</td>
<td>The number of seconds to wait after transmitting the voice keyer file before starting another transmit cycle.</td>
</tr>
</tbody>
</table>
<p>Pushing Save will immediately update the voice keyer configuration and enable its use if desired.</p>
<h2 data-number="4.5" id="reporting-to-freedv-reporter"><span class="header-section-number">4.5</span> Reporting to FreeDV Reporter</h2>
<p>ezDV has the ability to report its current state to the <a href="https://qso.freedv.org/">FreeDV Reporter</a> spotting service. Operation of this feature can be done through the Reporting tab:</p>
<figure>
<img src="images/4-reporting-tab.png" alt="" /><figcaption>Example of a reporting configuration on ezDV</figcaption>
</figure>
<p>When configured with a callsign and grid square, ezDV will automatically connect to FreeDV Reporter if it has access to an internet connection and is able to connect to a supported radio over Wi-Fi. You can also force a connection to FreeDV Reporter for radios without Wi-Fi support by checking the “Force reporting without radio connection” checkbox and manually entering the current frequency.</p>
<p>Once connected to FreeDV Reporter, a new row will appear corresponding to your connection:</p>
<figure>
<img src="images/4-freedv-reporter.png" alt="" /><figcaption>Example of an entry on FreeDV Reporter</figcaption>
</figure>
<p>If ezDV is able to decode a callsign from a received signal, it will transmit the received callsign and SNR to FreeDV Reporter. Your row will then update to indicate the received callsign, SNR and mode as well as highlight your row in a blue background for several seconds to alert others that you’ve receiving a signal. When ezDV is transmitting, FreeDV Reporter will also highlight your row with a red background to indicate to others that you’re transmitting.</p>
<p>With radios that support connections over Wi-Fi, ezDV will also follow frequency changes on the radio and report them to FreeDV Reporter. FreeDV Reporter will then indicate your current frequency, allowing others to change to your frequency and potentially make a contact with you. Manual frequency updates (for those radios attached to ezDV with a wired connection) will also be sent to FreeDV Reporter as they’re made.</p>
<p>The following can be updated in the Reporting tab to operate FreeDV Reporter reporting:</p>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Your callsign</td>
<td>The callsign to report to FreeDV Reporter. This callsign is also transmitted as part of your FreeDV signal so that others can report receipt of your signal.</td>
</tr>
<tr class="even">
<td>Grid square/locator</td>
<td>The 4-6 digit grid square to report to FreeDV Reporter. You can use a service such as <a href="https://www.levinecentral.com/ham/grid_square.php">this</a> to calculate your grid square if not known. <em>Note: Clearing this field disables FreeDV Reporter reporting.</em></td>
</tr>
<tr class="odd">
<td>Message</td>
<td>A short message to display on the FreeDV Reporter website next to your callsign. This is transmitted solely on the internet, not over RF.</td>
</tr>
<tr class="even">
<td>Force reporting without radio connection</td>
<td>When checked, ezDV will connect to FreeDV Reporter even without a valid radio configuration.</td>
</tr>
<tr class="odd">
<td>Current frequency (MHz)</td>
<td>When “Force reporting without radio connection” is checked, ezDV will transmit this frequency to FreeDV Reporter as your current frequency.</td>
</tr>
</tbody>
</table>
<p>Pushing Save will immediately connect or disconnect to FreeDV Reporter (as desired/required) as well as transmit updates to the current frequency or short message.</p>
<h2 data-number="4.6" id="configuring-wi-fi"><span class="header-section-number">4.6</span> Configuring Wi-Fi</h2>
<p>The Wi-Fi tab allows configuration of ezDV’s Wi-Fi connection:</p>
<figure>
<img src="images/2-setup-webpage-wifi.png" alt="" /><figcaption>ezDV showing the Wi-Fi tab</figcaption>
</figure>
<p>The following can be configured in this screen:</p>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Enable Wi-Fi</td>
<td>Enables or disables the Wi-Fi radio on ezDV.</td>
</tr>
<tr class="even">
<td>Hostname</td>
<td>The name to call ezDV on the network (default “ezdv”). Only letters, numbers and ‘-’ can be used for the name.</td>
</tr>
<tr class="odd">
<td>Wireless Mode</td>
<td>Can be either “Client” (to connect to an existing Wi-Fi network) or “Access Point” (to have ezDV generate its own Wi-Fi network).</td>
</tr>
<tr class="even">
<td>Network Name</td>
<td>The Wi-Fi network to connect to in “Client” mode. ezDV populates this list with the networks that it’s able to see, or you can choose “(other)” and manually enter the name of the network in the “SSID” field.</td>
</tr>
<tr class="odd">
<td>SSID</td>
<td>Typically automatically filled in if you select a network in the “Network Name” list. If “(other)” is selected, you can manually enter the name of the Wi-Fi network here (for example, if the network doesn’t broadcast its presence).</td>
</tr>
<tr class="even">
<td>Security Type</td>
<td>In “Access Point” mode, controls the security of the Wi-Fi network ezDV provides. Can be either “Open” (no encryption/security) or one of “WEP”, “WPA”, “WPA2” or “WPA/WPA2”. <em>Note: WPA2 is recommended for the best security.</em></td>
</tr>
<tr class="odd">
<td>Channel</td>
<td>In “Access Point” mode, this controls the 2.4 GHz Wi-Fi channel (1-11) ezDV uses.</td>
</tr>
<tr class="even">
<td>Password</td>
<td>In “Access Point” mode (and when something other than “Open” is selected for “Security Type”), the password ezDV will require to allow other devices to connect to it. In “Client” mode, this is the password for the network selected or entered in “Network Name”/“SSID”.</td>
</tr>
</tbody>
</table>
<p>Pushing Save here will save these settings to ezDV’s internal flash but require rebooting or power cycling ezDV for the settings to take effect.</p>
<h2 data-number="4.7" id="configuring-radio-connection-and-headset"><span class="header-section-number">4.7</span> Configuring radio connection and headset</h2>
<p>The Radio tab allows configuration of ezDV’s connection to a network-enabled radio as well as headset-related functions. Currently ezDV supports connections to the Icom IC-705 and Flex 6000 series radios, as shown below:</p>
<figure>
<img src="images/2-setup-webpage-radio-flex.png" alt="" /><figcaption>ezDV showing a FlexRadio configuration</figcaption>
</figure>
<figure>
<img src="images/2-setup-webpage-radio-icom.png" alt="" /><figcaption>ezDV showing a Icom IC-705 configuration</figcaption>
</figure>
<p>The following can be configured in this screen:</p>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Enable PTT using headset button</td>
<td>Enables the usage of the “call” button on your wired headset for toggling PTT. (See “Basic usage” for more information.)</td>
</tr>
<tr class="even">
<td>Time Out Timer (seconds)</td>
<td>Configures ezDV’s “time out timer”, which automatically puts the radio back into receive if the radio is stuck in transmit mode for too long.</td>
</tr>
<tr class="odd">
<td>Use Wi-Fi Network for Radio RX/TX</td>
<td>When checked, allows ezDV to connect to a supported radio over Wi-Fi instead of using a wired headset.</td>
</tr>
<tr class="even">
<td>Radio Type</td>
<td>The type of radio that ezDV should connect to. This can be either “Flex 6000 series” or “Icom (e.g. IC-705)”. Relevant settings for each radio type will appear in this tab as appropriate.</td>
</tr>
<tr class="odd">
<td>Radio</td>
<td>Displays the list of Flex radios that ezDV is able to see on the network. You can also choose “(other)” and manually enter its IP address.</td>
</tr>
<tr class="even">
<td>IP Address</td>
<td>For Flex radios, this is typically auto-filled when selecting a radio from the Radio list. Otherwise, this is the IP address of the radio which to connect to.</td>
</tr>
<tr class="odd">
<td>Port</td>
<td>For the IC-705, this is the control port number of the built-in server running on the radio. Defaults to “50001” and should not normally need to be changed.</td>
</tr>
<tr class="even">
<td>Username</td>
<td>For the IC-705, this is the “Network User1” or “Network User2” user ID. (See “Configuring Wi-Fi on the IC-705” or your radio’s user manual for information on configuring these users.)</td>
</tr>
<tr class="odd">
<td>Password</td>
<td>For the IC-705, this is the “Network User1” or “Network User2” password.</td>
</tr>
</tbody>
</table>
<p>Pushing Save here will save these settings to ezDV’s internal flash but require rebooting or power cycling ezDV for the settings to take effect.</p>
<h2 data-number="4.8" id="updating-firmware"><span class="header-section-number">4.8</span> Updating firmware</h2>
<p>From time to time, new ezDV firmware may be released that contains feature enhancements and/or bug fixes. These updates are typically posted on the <a href="https://github.com/tmiw/ezDV/releases">project’s releases page</a> and are announced in various other locations (such as the FreeDV mailing lists). ezDV can be upgraded or downgraded by using the “Firmware Update” tab:</p>
<figure>
<img src="images/4-firmware-update.png" alt="" /><figcaption>ezDV showing the “Firmware Update” tab</figcaption>
</figure>
<p>To update the firmware, perform the following steps:</p>
<ol type="1">
<li>Download the firmware file ending in “-ota.tar.gz” to your PC and save it to a known location (such as your Downloads folder).</li>
<li>Go to ezDV’s “Firmware Update” tab and select the file you just downloaded.</li>
<li>Press the “Update” button. <em>Note: this may take several minutes to complete. Do not close your browser or navigate away from the ezDV web interface while the update is taking place.</em></li>
</ol>
<p>Once complete, the new firmware is stored on ezDV’s internal memory but will not take effect until ezDV is turned off and on again or rebooted.</p>
<h2 data-number="4.9" id="rebooting-ezdv"><span class="header-section-number">4.9</span> Rebooting ezDV</h2>
<p>You can reboot ezDV from the web interface instead of powering it on and off using the physical controls. This is typically done after saving radio or Wi-Fi settings or after uploading new firmware. To do this, go to the General tab and press the Reboot button:</p>
<figure>
<img src="images/4-reboot-button.png" alt="" /><figcaption>ezDV showing the Reboot button</figcaption>
</figure>
<p>ezDV may take up to a minute to turn itself off and then turn itself on again. Once the web browser is able to communicate with ezDV again, it will automatically refresh the Web interface so that any changes to it due to any firmware updates can be made visible immediately.</p>
<p><em>Note: changes to Wi-Fi settings may cause ezDV to no longer be accessible on the IP address that was originally used. See “Accessing the web interface” for information on finding its new address if required.</em></p>
<h1 data-number="5" id="troubleshooting"><span class="header-section-number">5</span> Troubleshooting</h1>
<p>This section contains some helpful tips and information that may help you diagnose and fix any problems you may have with ezDV.</p>
<h2 data-number="5.1" id="using-hardware-test-mode"><span class="header-section-number">5.1</span> Using Hardware Test Mode</h2>
<p>ezDV has a hardware test mode that can be used to ensure that the board is functioning properly. To access this mode, hold down the PTT button while turning on ezDV. Once ezDV starts, you will hear audio tones at 1275 Hz (user jack) and 1725 Hz (radio jack) and all LEDs will be lit at 50% duty cycle. If the board is functioning properly, only the frequency associated to the given jack (and harmonics, if square wave) will be in the output audio. Pushing the Mode button will cycle through the following:</p>
<ul>
<li>Sine tones at both jacks.</li>
<li>Sine tone only on user jack.</li>
<li>Sine tone only on radio jack.</li>
<li>Square tones at both jacks.</li>
<li>Square tone only on user jack.</li>
<li>Square tone only on radio jack.</li>
<li>No audio on either jack.</li>
</ul>
<p>Additionally, pushing any of the buttons will extinguish the following LEDs if the buttons are properly functioning:</p>
<ul>
<li>PTT: PTT (red)</li>
<li>Mode: Sync (green)</li>
<li>Volume Up: Overload (red)</li>
<li>Volume Down: Network (blue)</li>
</ul>
<p>Releasing the button will re-illuminate the associated LED.</p>
<p>To shut down ezDV while in this mode, long-press the Mode button as with regular operation.</p>
<h2 data-number="5.2" id="resetting-ezdv"><span class="header-section-number">5.2</span> Resetting ezDV</h2>
<p>In the event that ezDV is non-responsive and needs to be reset, you can open the ezDV enclosure to gain access to two buttons that are hidden in normal use. These are the Reset and Flash buttons as shown below:</p>
<figure>
<img src="images/5-front-of-ezdv.jpg" alt="" /><figcaption>Front of ezDV circuit board with Reset button (red circle) and Flash button (green circle) shown</figcaption>
</figure>
<p>Pressing and releasing the Reset button will cause ezDV to restart execution of its firmware. If the Flash button is held while pressing and releasing the Reset button, the ESP32-S3 on ezDV will enter into “firmware download mode”, which will allow you to clear ezDV’s internal memory and allow you to load a new copy of its firmware. To do this, you will need to plug ezDV into a USB port on your PC and either install esptool, ESP-IDF or ESP Flash Tool onto your PC’s hard drive.</p>
<h3 data-number="5.2.1" id="using-esp-idf-to-flash-firmware"><span class="header-section-number">5.2.1</span> Using ESP-IDF to flash firmware</h3>
<p>Download a copy of the ezDV firmware source code (typically listed as “Source code (zip)” or “Source code (tar.gz)” on the <a href="https://github.com/tmiw/ezDV/releases">project’s release page</a>). Decompress the file, change into the folder that is created, then run the following commands to build and flash the firmware:</p>
<pre><code>. ~/esp/esp-idf/export.sh
cd firmware
idf.py -p /dev/ttyxxx0 build erase-flash flash</code></pre>
<p>Where <code>/dev/ttyxxx0</code> (or <code>COMx:</code> on Windows) is the serial port created by your operating system after plugging ezDV in. Once complete, ezDV will automatically reboot and execute the firmware that’s been flashed.</p>
<p><em>Note: The above will erase all of your settings and reset them to defaults. If you don’t want to do this, remove <code>erase-flash</code> from the above command.</em></p>
<h3 data-number="5.2.2" id="using-esp-flash-tool"><span class="header-section-number">5.2.2</span> Using ESP Flash Tool</h3>
<p>On Windows, you can use the ESP Flash Tool to flash ezDV. This does not require installation of ESP-IDF.</p>
<ol type="1">
<li>Download the ESP Flash Tool from https://www.espressif.com/en/support/download/other-tools.</li>
<li>Decompress all of the files in the ZIP file and execute flash_download_tool_3.9.3.exe.</li>
<li>Select “ESP32-S3” for “ChipType”, “Develop” for “WorkMode” and “USB” for “LoadMode” as shown below:</li>
</ol>
<figure>
<img src="images/ezDV_Flash_1.png" alt="" /><figcaption>ESP Flash Tool step 3</figcaption>
</figure>
<ol start="4" type="1">
<li>Add rows for each of the .bin files in the resulting screen:</li>
</ol>
<table>
<thead>
<tr class="header">
<th>File Name</th>
<th>Offset</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bootloader.bin</td>
<td>0x0</td>
</tr>
<tr class="even">
<td>partition-table.bin</td>
<td>0x8000</td>
</tr>
<tr class="odd">
<td>ota_data_initial.bin</td>
<td>0xF000</td>
</tr>
<tr class="even">
<td>ezdv.bin</td>
<td>0x20000</td>
</tr>
<tr class="odd">
<td>http_0.bin</td>
<td>0x7F8000</td>
</tr>
</tbody>
</table>
<p>Additionally, check each of the checkboxes to the left of the file name. It should look something like this, with each of the rows having a green background:</p>
<figure>
<img src="images/ezDV_Flash_2.png" alt="" /><figcaption>ESP Flash Tool step 4</figcaption>
</figure>
<ol start="5" type="1">
<li><p>Set “SPI SPEED” to “80 MHz” and “SPI MODE” to “DIO”.</p></li>
<li><p>Plug ezDV into your computer using a USB-C cable. Device Manager should show a new COM port named “USB/JTAG serial debug unit” or similar. Enter this COM port into the “COM” field in the application.</p></li>
<li><p>(Optional) Push the ERASE button. This will show a green “SYNC” indicator for a bit followed by “Download” and then “FINISH” as per the above screenshot. <em>Note: There will be no firmware installed on the board once this step finishes. You will need to reconfigure ezDV after new firmware has been flashed.</em></p></li>
<li><p>Push the START button. This will go through the same indicators as step 1 but this time will also have a progress bar indicating how far it’s gotten in flashing the new software.</p></li>
<li><p>Push the STOP button and then close the application. Open the ezDV enclosure and briefly push/release the “Reset” button on the right hand side of the board. If everything went well, you’ll see the four LEDs light up for a few seconds indicating that ezDV is booting normally.</p></li>
</ol>
<h3 data-number="5.2.3" id="using-esptool"><span class="header-section-number">5.2.3</span> Using esptool</h3>
<p>You can also use <a href="https://github.com/espressif/esptool">esptool</a>. For example:</p>
<pre><code>esptool esp32s3 -p /dev/cu.usbmodem14101 -b 460800 --before=default_reset --after=hard_reset write_flash --flash_mode dio --flash_freq 80m --flash_size detect 0x0 bootloader.bin 0x20000 ezdv.bin 0x8000 partition_table/partition-table.bin 0xf000 ota_data_initial.bin 0x7f8000 http_0.bin</code></pre>
<h2 data-number="5.3" id="common-problems"><span class="header-section-number">5.3</span> Common problems</h2>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="header">
<th>Problem</th>
<th>Suggested Solutions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>No audio coming in via headset</td>
<td>* Use the Volume Up button to increase ezDV’s volume.<br/>* Plug headset into another device and verify that you can hear audio.<br/>* Change ezDV mode to “ANA” (analog passthrough) and verify audio is coming from radio.</td>
</tr>
<tr class="even">
<td>ezDV unable to connect to Wi-Fi network</td>
<td>* Place ezDV closer to router/access point.<br/>* Turn on ezDV while holding Volume Down and verify configuration in the web interface.</td>
</tr>
<tr class="odd">
<td>ezDV unable to connect to network-enabled radio (e.g. Flex radio or Icom IC-705)</td>
<td>* Make sure that ezDV is connected to the correct Wi-Fi network (blinking blue LED).<br/>* Verify correct radio configuration in the web interface.<br/>* Place ezDV and/or radio closer to router/access point (if possible).<br/>* Power cycle/reboot ezDV and/or radio.</td>
</tr>
<tr class="even">
<td>ezDV does not put the radio into transmit</td>
<td>* Verify wiring of radio interface cable<br/>* Verify that ezDV is properly connected to its configured network-enabled radio.</td>
</tr>
<tr class="odd">
<td>ezDV is overdriving radio/amplifier on transmit (i.e. ALC is indicating)</td>
<td>* Use Volume Down button while transmitting to reduce transmit power level.<br/>* Verify power settings on radio.</td>
</tr>
<tr class="even">
<td>Radio is not transmitting audio from ezDV</td>
<td>* Use Volume Up button while transmitting to increase transmit power level.<br/>* Verify that current radio mode uses audio from ezDV (for example, putting radio into “data” mode).<br/>* Verify that ezDV is connected to the radio (if network-enabled).</td>
</tr>
<tr class="odd">
<td>ezDV is not connecting to FreeDV Reporter</td>
<td>* Verify that ezDV is connected to Wi-Fi network with internet access.<br/>* Verify that callsign and grid square are configured in ezDV.<br/>* Verify that ezDV is connected to network-enabled radio (solid blue LED).<br/>* Verify that “Force reporting without radio connection” in web interface is enabled (if not using a network-enabled radio).</td>
</tr>
<tr class="even">
<td>ezDV web interface only partially loads</td>
<td>* Use web browser’s “reload” button to refresh the web interface.<br/>* Move ezDV closer to router/access point or the PC/mobile device being used.</td>
</tr>
<tr class="odd">
<td>Multiple “FDVU” modes display in SmartSDR</td>
<td>ezDV likely briefly lost connection to the radio. This does not normally cause problems* but you can power cycle your Flex radio to clean up the extra modes if needed.</td>
</tr>
</tbody>
</table>
<p>* A known issue in the Flex radio firmware causes the radio to crash if ezDV attempts to unregister itself. To avoid the crash, ezDV’s unregistration logic has been disabled. This logic will be reenabled at a future date.</p>
<h2 data-number="5.4" id="getting-assistance"><span class="header-section-number">5.4</span> Getting assistance</h2>
<p>If you have a problem that is not already covered in this manual, you can obtain help through several sources:</p>
<ul>
<li><a href="https://groups.google.com/g/digitalvoice">digitalvoice mailing list</a>: This is the official FreeDV mailing list covering the FreeDV mode generally as well as FreeDV software and hardware devices such as ezDV.</li>
<li>GitHub: You can create a GitHub issue <a href="https://github.com/tmiw/ezDV/issues">here</a> to report bugs or request feature enhancements. Note that this requires a GitHub account.</li>
</ul>
<h1 data-number="6" id="appendix-configuring-wi-fi-on-the-icom-ic-705"><span class="header-section-number">6</span> Appendix: Configuring Wi-Fi on the Icom IC-705</h1>
<p>First, you will need to decide whether you want to join your IC-705 to an existing Wi-Fi network or whether you want to configure ezDV to use the IC-705’s built-in access point.</p>
<p><em>Note: it is recommended to join your IC-705 to an existing Wi-Fi network in order to be able to access ezDV’s Web interface (and to take advantage of certain features if an Internet connection is available).</em></p>
<p>Next, you’ll need to turn on your radio and push the Menu button. This will bring up the following screen:</p>
<figure>
<img src="images/2-setup-radio-ic705-mainmenu.jpg" alt="" /><figcaption>Icom IC-705 on menu screen</figcaption>
</figure>
<p>Tap the Set button on the lower-right corner of the display and then select “WLAN Set” as shown below:</p>
<figure>
<img src="images/2-setup-radio-ic705-setmode-3.jpg" alt="" /><figcaption>Icom IC-705 with WLAN Set selected</figcaption>
</figure>
<p>Next, tap the WLAN option on the first page and turn it OFF. Once switched OFF, tap the Connection Type setting and tap either Station (for connecting to an existing Wi-Fi network) or Access Point (for connecting ezDV to the IC-705’s access point):</p>
<figure>
<img src="images/2-setup-radio-ic705-wlan-set-1.jpg" alt="" /><figcaption>Icom IC-705 displaying WLAN Set options</figcaption>
</figure>
<figure>
<img src="images/2-setup-radio-ic705-connection-type.jpg" alt="" /><figcaption>Icom IC-705 displaying Connection Type menu</figcaption>
</figure>
<h2 data-number="6.1" id="using-the-ic-705s-built-in-access-point"><span class="header-section-number">6.1</span> Using the IC-705’s built-in access point</h2>
<p>If you’re using the IC-705’s Access Point mode, it is a good idea to double-check your radio’s SSID (aka Wi-Fi network name) and Wi-Fi password by tapping “Connection Settings (Access Point)” and then tapping each option as shown below, updating them as needed:</p>
<figure>
<img src="images/2-setup-radio-ic705-connection-settings-ap.jpg" alt="" /><figcaption>Icom IC-705 displaying Access Point settings</figcaption>
</figure>
<p>Also, note the IP address that your IC-705 is using on this page as you will need it for later configuration of ezDV. Once the settings here are satisfactory, tap the Back button on the lower right hand corner of the screen, tap the WLAN option and then change it to ON.</p>
<h2 data-number="6.2" id="connecting-the-ic-705-to-an-existing-network"><span class="header-section-number">6.2</span> Connecting the IC-705 to an existing network</h2>
<p>First, tap the WLAN option on the WLAN Set page and change it to ON. This is needed in order to turn on the Wi-Fi radio in the IC-705 and allow it to scan for networks.</p>
<p>Next, tap “Connection Settings (Station)”. You will see the following page on the IC-705:</p>
<figure>
<img src="images/2-setup-radio-ic705-connection-settings-sta.jpg" alt="" /><figcaption>Icom IC-705 displaying the Connection Settings (Station) page</figcaption>
</figure>
<p>From here, you can either tap “Access Point” to select your network from a list or “Manual Connect” if it’s not broadcasting its name. Tapping “Access Point” will bring up a page similar to the following:</p>
<figure>
<img src="images/2-setup-radio-ic705-access-point.jpg" alt="" /><figcaption>Icom IC-705 displaying a list of Wi-Fi networks</figcaption>
</figure>
<p>Tap your preferred network from the list that appears. If it’s not already saved in the IC-705, you may see a page similar to the following:</p>
<figure>
<img src="images/2-setup-radio-ic705-connect.jpg" alt="" /><figcaption>Icom IC-705 displaying the Connect page</figcaption>
</figure>
<p>Tapping Password will display the following page that will allow you to enter your Wi-Fi network’s password:</p>
<figure>
<img src="images/2-setup-radio-ic705-password.jpg" alt="" /><figcaption>Icom IC-705 displaying the Password page</figcaption>
</figure>
<p>Once entered, tap the ENT button to save it, then tap the Connect option to connect to the network. If successful, the Access Point page will show “Connected” below your network’s name. Tap the Back button until you return to the “Connection Settings (Station)” page and make sure you see an IP address under “DHCP (Valid After Restart)”:</p>
<figure>
<img src="images/2-setup-radio-ic705-connection-settings-sta-with-ip.jpg" alt="" /><figcaption>Icom IC-705 displaying an IP address</figcaption>
</figure>
<p>Note this address as it will be needed for later configuration of ezDV.</p>
<h2 data-number="6.3" id="configuring-the-radio-user"><span class="header-section-number">6.3</span> Configuring the Radio User</h2>
<p>The IC-705 requires a username and password to connect to the radio. If this is not already set up, you will need to do so now before continuing with ezDV setup. First, ensure that you’re on the “WLAN Set” page and then go to the second page of options. You will see a “Remote Settings” option:</p>
<figure>
<img src="images/2-setup-radio-ic705-wlan-set-2.jpg" alt="" /><figcaption>Icom IC-705 displaying the Remote Settings option</figcaption>
</figure>
<p>Tap on “Remote Settings” and then tap on “Network User1”:</p>
<figure>
<img src="images/2-setup-radio-ic705-remote-settings.jpg" alt="" /><figcaption>Icom IC-705 displaying the “Network User1” option.</figcaption>
</figure>
<p>The following page should appear. Tap on “Network User1 ID” and “Network User1 Password” and enter a username and password (if not already saved). Make a note of these as you’ll need them later. Additionally, make sure “Network User1 Administrator” is set to “YES”.</p>
<figure>
<img src="images/2-setup-radio-ic705-network-user1.jpg" alt="" /><figcaption>Icom IC-705 displaying the “Network User1” settings.</figcaption>
</figure>
<p>Tap the Back button until you reach the Set menu.</p>
<h2 data-number="6.4" id="configuring-audio"><span class="header-section-number">6.4</span> Configuring Audio</h2>
<p>The IC-705 must be configured to accept transmit audio from the Wi-Fi interface in order for transmit with ezDV to work properly. From the Set menu, select “Connectors” as shown below:</p>
<figure>
<img src="images/2-setup-radio-ic705-setmode-2.jpg" alt="" /><figcaption>Icom IC-705 displaying the “Connectors” option.</figcaption>
</figure>
<p>Next, scroll until you find the “MOD Input” option and then tap it to continue:</p>
<figure>
<img src="images/2-setup-radio-ic705-connectors-2.jpg" alt="" /><figcaption>Icom IC-705 displaying the “MOD Input” option.</figcaption>
</figure>
<p>Finally, tap the “DATA MOD” option and ensure that it is set to “WLAN”:</p>
<figure>
<img src="images/2-setup-radio-ic705-mod-input.jpg" alt="" /><figcaption>Icom IC-705 displaying the “MOD Input” menu.</figcaption>
</figure>
<figure>
<img src="images/2-setup-radio-ic705-data-mod.jpg" alt="" /><figcaption>List of valid “DATA MOD” options.</figcaption>
</figure>
<p><em>Note: if you share the IC-705 with other data mode applications over USB (for example, WSJT-X for FT8), make sure that “DATA MOD” is set to one of the “USB” options above when done using ezDV.</em></p>
<h1 data-number="7" id="appendix-example-wiring-configurations"><span class="header-section-number">7</span> Appendix: Example wiring configurations</h1>
<p>Some example configurations are below.</p>
<h2 data-number="7.1" id="elecraft-kx3"><span class="header-section-number">7.1</span> Elecraft KX3</h2>
<p>If you have an Elecraft KX3, you can use off the shelf parts for your interface cable (no soldering required). These parts consist of a <a href="https://www.amazon.com/Headphone-Splitter-KOOPAO-Microphone-Earphones/dp/B084V3TRTV/ref=sr_1_3?crid=2V0WV9A8JJMW9&amp;keywords=headset%2Bsplitter&amp;qid=1671701520&amp;sprefix=headset%2Bsplitte%2Caps%2C136&amp;sr=8-3&amp;th=1">3.5mm splitter</a> and a <a href="https://www.amazon.com/gp/product/B07PJW6RQ7/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;psc=1">3.5mm TRRS cable</a>. The microphone connector on the splitter should be plugged into PHONES on the KX3 while the speaker connector should be plugged into MIC.</p>
<p>This setup will look like the following when plugged in:</p>
<figure>
<img src="images/2-setup-radio-kx3.jpg" alt="" /><figcaption>ezDV plugged into an Elecraft KX3</figcaption>
</figure>
                </main>

                <nav class="nav-wrapper" aria-label="Page navigation">
                    <!-- Mobile navigation buttons -->




                    <div style="clear: both"></div>
                </nav>
            </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">

        </nav>

    </div>

    <script src="template/book.js" type="text/javascript" charset="utf-8"></script>

</body>
</html>
